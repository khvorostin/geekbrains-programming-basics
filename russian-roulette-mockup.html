<meta charset='utf-8'>
<script>

    // игра в русскую рулетку на JS. игра продолжается до тех пор, пока пистолет не выстрелит и пока пользователь не выйдет из игры

    var doNext = true;
    var score = 0;

    // возвращает число от 0 до max
    function getRandomInt(max) {
        return Math.floor(Math.random() * max);
    }

    while (doNext) {

        // инкрементим счетчик игр
        score++;

        // на каждом шаге сознательно меняем флаг продолжения игры
        doNext = false;

        // крутим рулетку
        if (getRandomInt(5) == 0) {
            // если была пуля, то флаг не меняем
            alert('Игра окончена, в обойме была пуля. Всего попыток: ' + score);
        } else if (prompt('Отлично. Уже попыток: ' + score + '. Продолжить игру [y — да]?') == 'y') {
            // а вот при явном желании пользователя продолжить - играем дальше
            doNext = true;
        }
    }

</script>